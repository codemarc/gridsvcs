{
   "openapi": "3.1.0",
   "info": {
      "version": "0.0.5",
      "title": "motd",
      "description": "Message of the Day service for Gridlinks<br/><br/><a rel=\"noopener noreferrer\" target=\"_blank\" href=\"/v1/motd/openapi.json\">The openapi source definition for motd</a>",
      "contact": {
         "email": "api@codemarc.net"
      },
      "externalDocs": {
         "description": "GridSvcs API",
         "url": "https://codemarc.net/doc/gridsvcs/#/"
      },
      "license": {
         "name": "MIT License",
         "url": "https://codemarc.net/doc/LICENSE.txt"
      }
   },
   "servers": [
      {
         "url": "http://localhost:3000/",
         "description": "Development server"
      },
      {
         "url": "https://codemarc.net/api/",
         "description": "Production server"
      }
   ],
   "tags": [
      {
         "name": "motd",
         "description": "Message of the Day"
      }
   ],
   "paths": {
      "/v1/motd/status": {
         "get": {
            "tags": [
               "motd"
            ],
            "summary": "Status and metrics for the motd service",
            "responses": {
               "200": {
                  "description": "The message of the day service stats",
                  "content": {
                     "application/json": {
                        "schema": {
                           "type": "object",
                           "properties": {
                              "version": {
                                 "type": "string",
                                 "example": "0.0.0"
                              },
                              "build": {
                                 "type": "string",
                                 "example": "240801000"
                              },
                              "model": {
                                 "type": "string",
                                 "example": "gpt-4o-mini-2024-07-18"
                              },
                              "usage": {
                                 "type": "object",
                                 "properties": {
                                    "prompt_tokens": {
                                       "type": "integer",
                                       "example": 33
                                    },
                                    "completion_tokens": {
                                       "type": "integer",
                                       "example": 1436
                                    },
                                    "total_tokens": {
                                       "type": "integer",
                                       "example": 1469
                                    }
                                 }
                              },
                              "cache": {
                                 "type": "string",
                                 "example": "0 days, 17 hours, 48 minutes, and 9 seconds."
                              },
                              "genai": {
                                 "type": "string",
                                 "example": "0 days, 18 hours, 36 minutes, and 40 seconds."
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "/v1/motd/quotes": {
         "get": {
            "tags": [
               "motd"
            ],
            "summary": "Current quotes list",
            "parameters": [
               {
                  "in": "query",
                  "name": "topic",
                  "schema": {
                     "type": "string"
                  },
                  "description": "Optional topic to filter quotes"
               }
            ],
            "responses": {
               "200": {
                  "description": "A list of quotes",
                  "content": {
                     "application/json": {
                        "schema": {
                           "$ref": "#/components/schemas/QuoteArray"
                        }
                     }
                  }
               },
               "500": {
                  "description": "Internal server error"
               }
            }
         }
      },
      "/v1/motd/topics": {
         "get": {
            "tags": [
               "motd"
            ],
            "summary": "Retrieve a list of topic prompts",
            "responses": {
               "200": {
                  "description": "A list of topic prompts",
                  "content": {
                     "application/json": {
                        "schema": {
                           "$ref": "#/components/schemas/TopicPromptArray"
                        }
                     }
                  }
               },
               "500": {
                  "description": "Internal server error"
               }
            }
         }
      }
   },
   "components": {
      "schemas": {
         "Quote": {
            "type": "object",
            "properties": {
               "message": {
                  "type": "string",
                  "description": "The quote message",
                  "example": "The only way to do great work is to love what you do."
               },
               "author": {
                  "type": "string",
                  "description": "The author of the quote",
                  "example": "Steve Jobs"
               }
            }
         },
         "QuoteArray": {
            "type": "array",
            "items": {
               "$ref": "#/components/schemas/Quote"
            }
         },
         "TopicPrompt": {
            "type": "object",
            "properties": {
               "topic": {
                  "type": "string",
                  "description": "The topic name",
                  "example": "Trump"
               },
               "prompt": {
                  "type": "string",
                  "description": "The prompt related to the topic",
                  "example": "related to Donald Trump"
               }
            }
         },
         "TopicPromptArray": {
            "type": "array",
            "items": {
               "$ref": "#/components/schemas/TopicPrompt"
            }
         }
      }
   }
}